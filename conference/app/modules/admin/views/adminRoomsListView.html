<div style="width: 100%;" ng-include="'app/modules/admin/views/shared/toolbarView.html'"></div>

<div layout="row" flex>
  <md-sidenav 
    class="md-whiteframe-2dp md-sidenav-left vi-sidenav"
    md-component-id="left" 
    md-is-locked-open="$mdMedia('gt-sm')"
    md-whiteframe="4">
    <div style="width: 100%;" ng-include="'app/modules/admin/views/shared/roomsListView.html'"></div>
  </md-sidenav>

  <md-content flex id="content" class="content-admin-rooms-list">    
    <div layout="row" class="vi-btn-group vi-btn-group-room">
      <div flex="70" layout="row" layout-align="start">     
        <md-button class="md-raised vi-btn vi-warn" ng-click="gotoEditRoom();">
            <i class="fa fa-pencil" aria-hidden="true"></i> {{"admin.roomsList.edit" | translate}}
        </md-button>
        <md-button ng-href="#/admin/rooms/create" class="md-raised vi-btn vi-success">
            <i class="fa fa-plus" aria-hidden="true"></i> {{"admin.roomsList.create" | translate}}
        </md-button>
      </div> 
      <!-- <div flex="30" layout="row" layout-align="end">
        <md-button class="md-raised vi-btn vi-danger">
          <i class="fa fa-ban" aria-hidden="true"></i> Close
        </md-button>
      </div>  -->     
    </div>

    <div layout="row">
      <h3 flex="60" flex-xs="100" class="md-display-1 vi-row vi-headline">{{"admin.roomsList.totalRooms" | translate}}: {{roomsList.length | number}}</h3>
    </div>

    <div layout="row" layout-xs="column">      
      <div flex="50" flex-xs="100" class="vi-panel vi-row vi-col">
        <h3 class="md-headline">{{room.name ? room.name : "admin.roomsList.chooseRoom" | translate}}</h3>        
        <div layout="column">
          <md-list ng-show="room">
            <md-list-item layout="row" class="md-1-line">
              <div flex="30" class="vi-title">Room Id</div>
              <div flex="70">{{room._id}}</div>
            </md-list-item>
            <md-list-item layout="row" class="md-1-line">
              <div flex="30" class="vi-title">Room Reference</div>
              <div flex="70">{{room.meetingRef}}</div>
            </md-list-item>              
            <md-list-item layout="row" class="md-1-line">
              <div flex="30" class="vi-title">{{"admin.roomsList.duration" | translate}}</div>
              <div flex="70">{{room.duration ? room.duration : "" | number}}</div>
            </md-list-item>
            <md-list-item layout="row" class="md-1-line">
              <div flex="30" class="vi-title">{{"admin.roomsList.status" | translate}}</div>
              <div flex="70">{{room.active ? "active" : "inactive"}}</div>
            </md-list-item>
            <md-list-item layout="row" class="md-1-line">
              <div flex="30" class="vi-title">Logout Url</div>
              <div flex="70" style="word-wrap: break-word;">{{room.logoutUrl ? room.logoutUrl : "" | decodeBase64}}</div>
            </md-list-item>
            <md-list-item layout="row" class="md-1-line">
              <div flex="30" class="vi-title">Welcome title</div>
              <div flex="70">{{room.welcome ? room.welcome : ""}}</div>
            </md-list-item>
            <md-list-item layout="row" class="md-1-line">
              <div flex="30" class="vi-title">{{"admin.roomsList.totalMembers" | translate}}</div>
              <div flex="70">{{room.membersList.length | number}}</div>
            </md-list-item>
          </md-list>             
        </div>
      </div>
      <div flex="50" flex-xs="100" class="vi-panel vi-row vi-col members-list">
        <h3 class="md-headline">{{"admin.roomsList.membersList" | translate}}</h3>  
        <md-list class="vi-members-list">
          <md-list-item class="md-3-line vi-md-list-user-item" ng-repeat="member in room.membersList">
            <div class="md-list-item-text vi-member-item">
                <h3 class="md-title vi-member-name">{{member.name}}</h3>
                <p>{{member.email}}</p>
                <p class="vi-member-email">{{member.role}}</p>
            </div>
          </md-list-item>
        </md-list>
      </div>
    </div>
  </md-content>
</div>